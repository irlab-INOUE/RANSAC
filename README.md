# RANSAC
RANSACによるパラメータ推定

## ソースコードの前提
- データは2次元(x,y) の集合である
- データ内には外れ値がある
- データそのものは $y=ax + b$の形でフィッティングできるとする
- パラメータ(a, b) を推定したいが，最小2乗法だと外れ値の影響が出てしまう

## 手順
- データ集合から，ランダムにn個のデータを抽出した部分集合を作る
- 部分集合に対して（最小2乗法などで）パラメータを推定する
- 推定したパラメータを用いたモデル式（$y=ax + b$）を使って，データ集合の全部の点に対する誤差を計算する（yの差．差の二乗和の平均をとる）
- この誤差に基づき，データ集合から外れ値を判定して除外したデータ集合を作る
- そのデータ集合に対して，モデル式に基づく誤差を計算する
- この誤差が，それまでの推定結果よりも小さければ，より良いパラメータであると判断して(a, b) を保持する
- 十分繰り返したら終わり

## 図の見方
- 黒点：データ点
- 黄色点：外れ値
- 青線：外れ値が内データに対する最小二乗法でのパラメータ推定
- 赤線：外れ値があるデータに対する最小二乗法でのパラメータ推定
- 紫線：RANSACによるパラメータ推定

  ![img](https://img.esa.io/uploads/production/attachments/14617/2020/05/31/12742/fd6c088b-d288-4ee4-a9b1-582a8606f5ab.png)
  
